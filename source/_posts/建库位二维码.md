title: 创建库位二维码
author: Nooae
tags:
  - python
categories: []
date: 2024-10-27 20:31:00
---
输入库位编码和库位名称创建二维码
<!--more-->
~~~
import qrcode
from PIL import Image, ImageDraw, ImageFont

qr_text = input("输入库位编码：")
qr_name = input("输入库位名称：")
 
# 生成二维码
qr = qrcode.QRCode(
    version=1,
    error_correction=qrcode.constants.ERROR_CORRECT_L,
    box_size=30,
    border=4,
)
qr.add_data(qr_text)
qr.make(fit=True)

# 创建一个图片 
img = qr.make_image(fill='black', back_color='white')

# 创建可以在图片上绘图的对象
draw = ImageDraw.Draw(img)
 
# 加载字体
font = ImageFont.truetype("arial.ttf", 80)

# 计算文本宽度和高度
width,height = draw.textsize(qr_name, font=font)

# 计算文本在图片的位置
x = (width - img.width) / 2
y = (img.height - height) / 50

# 绘制文本
draw.text((x, y), qr_name, font=font, fill='black')
 
# 保存图片
img.save(qr_name + '.png')
~~~