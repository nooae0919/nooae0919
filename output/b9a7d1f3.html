<!DOCTYPE html>
<html lang="en">
<head>
  <title>æ¸©é¦¨æç¤ºå¼¹çª— | Nooae's blog</title>
  <meta charset="utf-8">
<meta name="description" content="import tkinter as tk import random import time import threading class TipWindowManager: """æ¸©é¦¨æç¤ºçª—å£ç®¡ç†å™¨""" def __init__(self): self.root = tk.Tk() self.root.withdraw() # ä½¿ç”¨åˆ—è¡¨å­˜å‚¨æ´»è·ƒçª—å£ï¼Œé¿å…é¢å¤–æ•°æ®ç»“æ„å  â€¦"><meta name="author" content="nooae">  <meta name="viewport" content="initial-scale=1, maximum-scale=1" />
  <meta http-equiv="Cache-Control" content="max-age=604800, must-revalidate" />
  <link href="https://www.nooae.com/theme/css/screen.css" rel="stylesheet" type="text/css" />
  <link rel="icon" href="https://www.nooae.com/favicon.ico" type="image/x-icon">
  <link rel="shortcut icon" href="https://www.nooae.com/favicon.ico" type="image/x-icon">
  <link href="https://www.nooae.com/" type="application/atom+xml" rel="alternate" title="Nooae's blog ATOM Feed" />
</head>
<body>
<div id="outer-wrapper">
<div id="header-wrapper">
  <div class="logo"><a href="https://www.nooae.com">Nooae's blog</a></div>
  <div class="small"></div>
    <div class="nav">
  <li><a href="https://www.nooae.com//">Home</a></li>
  <li><a href="https://www.nooae.com//archives.html">Archives</a></li>
    </div>
</div>
    <div id="main">
<h2><a href="https://www.nooae.com/b9a7d1f3.html">æ¸©é¦¨æç¤ºå¼¹çª—</a></h2>
<h5><i class="icon-feather"></i> å‘¨å›› 04 åäºŒæœˆ 2025
<i class="icon-bookmarks"></i>
<span><a href="https://www.nooae.com/tag/tkinter.html">tkinter</a> / </span>
</h5>

<!-- ä»¥ä¸‹æ˜¯æ­£æ–‡ï¼Œä½¿ç”¨ Markdown è¯­æ³• -->

<div class="highlight"><pre><span></span><code><span class="kn">import</span><span class="w"> </span><span class="nn">tkinter</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">tk</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">random</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">time</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">threading</span>


<span class="k">class</span><span class="w"> </span><span class="nc">TipWindowManager</span><span class="p">:</span>
<span class="w">    </span><span class="s2">&quot;&quot;&quot;æ¸©é¦¨æç¤ºçª—å£ç®¡ç†å™¨&quot;&quot;&quot;</span>

<span class="w">    </span><span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tk</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">withdraw</span><span class="p">()</span>
<span class="w">        </span><span class="c1"># ä½¿ç”¨åˆ—è¡¨å­˜å‚¨æ´»è·ƒçª—å£ï¼Œé¿å…é¢å¤–æ•°æ®ç»“æ„å ç”¨å†…å­˜</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">active_windows</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">[]</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">windows_created</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span>

<span class="w">        </span><span class="c1"># é…ç½®å‚æ•°ï¼ˆä¿æŒæ ¸å¿ƒåŠŸèƒ½ï¼Œç§»é™¤æ‰“å°ç›¸å…³é€»è¾‘ï¼‰</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">window_count</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">150</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">create_interval</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mf">0.05</span>

<span class="w">        </span><span class="c1"># ä»…è·å–å¿…è¦çš„å±å¹•å°ºå¯¸ï¼Œä¸å­˜å‚¨å†—ä½™ä¿¡æ¯</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">winfo_screenwidth</span><span class="p">()</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">winfo_screenheight</span><span class="p">()</span>

<span class="w">        </span><span class="c1"># æç¤ºå†…å®¹ä¸é¢œè‰²åº“ï¼ˆä½¿ç”¨å…ƒç»„å­˜å‚¨ï¼Œæ¯”åˆ—è¡¨æ›´èŠ‚çœå†…å­˜ï¼‰</span>
<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">tips</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;å¤šå–æ°´å“¦~ğŸ’§&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ä¿æŒå¾®ç¬‘å‘€ğŸ˜Š&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ¯å¤©éƒ½è¦å…ƒæ°”æ»¡æ»¡âœ¨&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;è®°å¾—åƒæ°´æœğŸ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ä¿æŒå¥½å¿ƒæƒ…ğŸŒ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;å¥½å¥½çˆ±è‡ªå·±â¤ï¸&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;æœŸå¾…ä¸‹ä¸€æ¬¡è§é¢ğŸ‘‹&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;é¡ºé¡ºåˆ©åˆ©ğŸ¯&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ—©ç‚¹ä¼‘æ¯ğŸŒ™&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;æ„¿æ‰€æœ‰çƒ¦æ¼éƒ½æ¶ˆå¤±ğŸŒˆ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;åˆ«ç†¬å¤œâ°&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ä»Šå¤©è¿‡å¾—å¼€å¿ƒå˜›ğŸ‰&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;å¤©å†·äº†ï¼Œå¤šç©¿è¡£æœğŸ§¥&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ä¿æŠ¤çœ¼ç›å“¦ğŸ‘€&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;æ·±å‘¼å¸æ”¾æ¾ä¸€ä¸‹ğŸŒ¬ï¸&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ä½ çœŸæ£’ï¼ğŸŠ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ä¸€åˆ‡éƒ½ä¼šå¥½çš„ğŸŒ»&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;ä¿æŒç§¯æå¿ƒæ€âš¡&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;åŠ æ²¹ï¼ğŸš€&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ç›¸ä¿¡è‡ªå·±ğŸ’ª&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;ä»Šå¤©ä¹Ÿæ˜¯ç¾å¥½çš„ä¸€å¤©ğŸŒ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ä¿æŒè€å¿ƒâ³&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ…¢æ…¢æ¥æ¯”è¾ƒå¿«ğŸ¢&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;ä½ å¾ˆç‰¹åˆ«ğŸŒŸ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ä¸–ç•Œå› ä½ è€Œç¾ä¸½ğŸŒ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ”¾æ¾ä¸€ä¸‹ğŸµ&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;äº«å—å½“ä¸‹ğŸ¯&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ„Ÿæ©ç”Ÿæ´»ğŸ™&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ä¿æŒå¥½å¥‡å¿ƒğŸ”&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;å‹‡æ•¢åšè‡ªå·±ğŸ¦&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;è¿›æ­¥ä¸€ç‚¹ç‚¹ğŸ“ˆ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ¸©æš–å¦‚æ˜¥ğŸŒº&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;å¿ƒå¹³æ°”å’ŒğŸƒ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ¢¦æƒ³æˆçœŸğŸ &#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;å¿«ä¹å¾ˆç®€å•ğŸ˜„&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;é˜³å…‰æ€»åœ¨é£é›¨åğŸŒ¦ï¸&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;åšæŒå°±æ˜¯èƒœåˆ©ğŸ†&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;ä½ æ˜¯æœ€æ£’çš„â­&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;ç”Ÿæ´»å¾ˆç¾å¥½ğŸŒ·&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;å‘å‰çœ‹ğŸ‘£&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;æ¸©æŸ”å¾…äººğŸ’&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;çæƒœå½“ä¸‹ğŸ&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;å¹¸ç¦åœ¨èº«è¾¹ğŸˆ&#39;</span>
<span class="w">        </span><span class="p">)</span>

<span class="w">        </span><span class="bp">self</span><span class="o">.</span><span class="n">bg_colors</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">(</span>
<span class="w">            </span><span class="s1">&#39;#FFF0F5&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#F0FFFF&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#F5FFFA&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FFF8DC&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#F0F8FF&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;#F8F8FF&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#F5F5F5&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FAFAD2&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#E6E6FA&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FFE4E1&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;#FFFAF0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FDF5E6&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FAF0E6&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FFF5EE&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#F0FFF0&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;#F5F5DC&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FFEFD5&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FFE4B5&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FAF0E6&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#F8F8FF&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;#F0F8FF&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#E0FFFF&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#E6E6FA&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FFF0F5&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FFE4E1&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;#FFFAFA&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#F5F5F5&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#F0F0F0&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FFF8DC&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FFE4C4&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;#FFDAB9&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FFEFD5&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FFFACD&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#F0E68C&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#E6E6FA&#39;</span><span class="p">,</span>
<span class="w">            </span><span class="s1">&#39;#D8BFD8&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#DDA0DD&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#EE82EE&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#DA70D6&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;#FFB6C1&#39;</span>
<span class="w">        </span><span class="p">)</span>

<span class="w">    </span><span class="k">def</span><span class="w"> </span><span class="nf">create_random_window</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="s2">&quot;&quot;&quot;éšæœºåˆ›å»ºä¸€ä¸ªå¯¹è¯æ¡†ï¼ˆä¼˜åŒ–å†…å­˜å ç”¨ï¼šå‡å°‘å±€éƒ¨å˜é‡ã€åŠæ—¶æ¸…ç†æ— æ•ˆå¼•ç”¨ï¼‰&quot;&quot;&quot;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">windows_created</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">window_count</span><span class="p">:</span>
<span class="w">            </span><span class="k">return</span>

<span class="w">        </span><span class="k">try</span><span class="p">:</span>
<span class="w">            </span><span class="n">window</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tk</span><span class="o">.</span><span class="n">Toplevel</span><span class="p">()</span>
<span class="w">            </span><span class="bp">self</span><span class="o">.</span><span class="n">active_windows</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>
<span class="w">            </span><span class="bp">self</span><span class="o">.</span><span class="n">windows_created</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="mi">1</span>

<span class="w">            </span><span class="c1"># éšæœºçª—å£å°ºå¯¸</span>
<span class="w">            </span><span class="n">window_width</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">220</span><span class="p">,</span><span class="w"> </span><span class="mi">300</span><span class="p">)</span>
<span class="w">            </span><span class="n">window_height</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">90</span><span class="p">,</span><span class="w"> </span><span class="mi">130</span><span class="p">)</span>

<span class="w">            </span><span class="c1"># è®¡ç®—å±å¹•å†…éšæœºä½ç½®ï¼Œé¿å…è¾¹ç•Œæº¢å‡º</span>
<span class="w">            </span><span class="n">x</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">screen_width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">window_width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>
<span class="w">            </span><span class="n">y</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">screen_height</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="n">window_height</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">10</span><span class="p">)</span>

<span class="w">            </span><span class="c1"># çª—å£åŸºç¡€é…ç½®</span>
<span class="w">            </span><span class="n">window</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;æ¸©é¦¨æç¤º&#39;</span><span class="p">)</span>
<span class="w">            </span><span class="n">window</span><span class="o">.</span><span class="n">geometry</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">window_width</span><span class="si">}</span><span class="s2">x</span><span class="si">{</span><span class="n">window_height</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">x</span><span class="si">}</span><span class="s2">+</span><span class="si">{</span><span class="n">y</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="w">            </span><span class="n">window</span><span class="o">.</span><span class="n">resizable</span><span class="p">(</span><span class="kc">False</span><span class="p">,</span><span class="w"> </span><span class="kc">False</span><span class="p">)</span>
<span class="w">            </span><span class="n">window</span><span class="o">.</span><span class="n">attributes</span><span class="p">(</span><span class="s1">&#39;-topmost&#39;</span><span class="p">,</span><span class="w"> </span><span class="kc">True</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;-alpha&#39;</span><span class="p">,</span><span class="w"> </span><span class="mf">0.95</span><span class="p">)</span>

<span class="w">            </span><span class="c1"># æ ‡ç­¾åˆ›å»º</span>
<span class="w">            </span><span class="n">label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">tk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span>
<span class="w">                </span><span class="n">window</span><span class="p">,</span>
<span class="w">                </span><span class="n">text</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tips</span><span class="p">),</span>
<span class="w">                </span><span class="n">bg</span><span class="o">=</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">bg_colors</span><span class="p">),</span>
<span class="w">                </span><span class="n">fg</span><span class="o">=</span><span class="s1">&#39;#2F4F4F&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="n">font</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;å¾®è½¯é›…é»‘&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">11</span><span class="p">,</span><span class="w"> </span><span class="mi">13</span><span class="p">)),</span>
<span class="w">                </span><span class="n">padx</span><span class="o">=</span><span class="mi">18</span><span class="p">,</span>
<span class="w">                </span><span class="n">pady</span><span class="o">=</span><span class="mi">22</span><span class="p">,</span>
<span class="w">                </span><span class="n">wraplength</span><span class="o">=</span><span class="n">window_width</span><span class="w"> </span><span class="o">-</span><span class="w"> </span><span class="mi">36</span><span class="p">,</span>
<span class="w">                </span><span class="n">justify</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="n">relief</span><span class="o">=</span><span class="s1">&#39;flat&#39;</span><span class="p">,</span>
<span class="w">                </span><span class="n">bd</span><span class="o">=</span><span class="mi">1</span>
<span class="w">            </span><span class="p">)</span>
<span class="w">            </span><span class="n">label</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span><span class="w"> </span><span class="n">fill</span><span class="o">=</span><span class="s1">&#39;both&#39;</span><span class="p">)</span>

<span class="w">            </span><span class="c1"># å…³é—­æ—¶é—´ä¸æ·¡å‡ºé€»è¾‘</span>
<span class="w">            </span><span class="n">close_time</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">random</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="mi">4000</span><span class="p">)</span>

<span class="w">            </span><span class="k">def</span><span class="w"> </span><span class="nf">close_window</span><span class="p">():</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="n">window</span><span class="o">.</span><span class="n">winfo_exists</span><span class="p">():</span>
<span class="w">                    </span><span class="k">return</span>
<span class="w">                </span><span class="c1"># ç®€åŒ–æ·¡å‡ºå¾ªç¯ï¼Œå‡å°‘å¾ªç¯æ¬¡æ•°</span>
<span class="w">                </span><span class="k">for</span><span class="w"> </span><span class="n">alpha</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">range</span><span class="p">(</span><span class="mi">95</span><span class="p">,</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="o">-</span><span class="mi">15</span><span class="p">):</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">window</span><span class="o">.</span><span class="n">winfo_exists</span><span class="p">():</span>
<span class="w">                        </span><span class="n">window</span><span class="o">.</span><span class="n">attributes</span><span class="p">(</span><span class="s1">&#39;-alpha&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">alpha</span><span class="w"> </span><span class="o">/</span><span class="w"> </span><span class="mi">100</span><span class="p">)</span>
<span class="w">                        </span><span class="n">window</span><span class="o">.</span><span class="n">update</span><span class="p">()</span>
<span class="w">                        </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.01</span><span class="p">)</span>
<span class="w">                </span><span class="c1"># å…³é—­åç«‹å³ä»æ´»è·ƒåˆ—è¡¨ç§»é™¤ï¼Œé‡Šæ”¾å†…å­˜</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">window</span><span class="o">.</span><span class="n">winfo_exists</span><span class="p">():</span>
<span class="w">                    </span><span class="n">window</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">window</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">active_windows</span><span class="p">:</span>
<span class="w">                    </span><span class="bp">self</span><span class="o">.</span><span class="n">active_windows</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>

<span class="w">            </span><span class="n">window</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="n">close_time</span><span class="p">,</span><span class="w"> </span><span class="n">close_window</span><span class="p">)</span>

<span class="w">            </span><span class="c1"># ç‚¹å‡»å…³é—­é€»è¾‘ï¼ˆå¤ç”¨close_windowï¼Œå‡å°‘ä»£ç å†—ä½™ï¼‰</span>
<span class="w">            </span><span class="k">def</span><span class="w"> </span><span class="nf">on_click</span><span class="p">(</span><span class="n">event</span><span class="p">):</span>
<span class="w">                </span><span class="n">close_window</span><span class="p">()</span>

<span class="w">            </span><span class="n">window</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Button-1&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">on_click</span><span class="p">)</span>
<span class="w">            </span><span class="n">label</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Button-1&gt;&#39;</span><span class="p">,</span><span class="w"> </span><span class="n">on_click</span><span class="p">)</span>

<span class="w">        </span><span class="k">except</span><span class="w"> </span><span class="n">Exception</span><span class="p">:</span>
<span class="w">            </span><span class="c1"># å¼‚å¸¸æ—¶æ¸…ç†æ— æ•ˆçª—å£å¼•ç”¨ï¼Œé¿å…å†…å­˜æ³„æ¼</span>
<span class="w">            </span><span class="k">if</span><span class="w"> </span><span class="s1">&#39;window&#39;</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="nb">locals</span><span class="p">()</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="n">window</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">active_windows</span><span class="p">:</span>
<span class="w">                </span><span class="bp">self</span><span class="o">.</span><span class="n">active_windows</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="n">window</span><span class="p">)</span>
<span class="w">                </span><span class="k">if</span><span class="w"> </span><span class="n">window</span><span class="o">.</span><span class="n">winfo_exists</span><span class="p">():</span>
<span class="w">                    </span><span class="n">window</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>

<span class="w">    </span><span class="k">def</span><span class="w"> </span><span class="nf">check_completion</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="s2">&quot;&quot;&quot;æ£€æŸ¥æ˜¯å¦æ‰€æœ‰çª—å£å…³é—­ï¼ˆç®€åŒ–åˆ¤æ–­é€»è¾‘ï¼Œå‡å°‘èµ„æºæŸ¥è¯¢ï¼‰&quot;&quot;&quot;</span>
<span class="w">        </span><span class="k">if</span><span class="w"> </span><span class="ow">not</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">active_windows</span><span class="w"> </span><span class="ow">and</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">windows_created</span><span class="w"> </span><span class="o">&gt;=</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">window_count</span><span class="p">:</span>
<span class="w">            </span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>
<span class="w">        </span><span class="k">else</span><span class="p">:</span>
<span class="w">            </span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">500</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">check_completion</span><span class="p">)</span>

<span class="w">    </span><span class="k">def</span><span class="w"> </span><span class="nf">start_random_creation</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="s2">&quot;&quot;&quot;å¼€å§‹éšæœºåˆ›å»ºçª—å£&quot;&quot;&quot;</span>

<span class="w">        </span><span class="k">def</span><span class="w"> </span><span class="nf">create_loop</span><span class="p">():</span>
<span class="w">            </span><span class="c1"># å¾ªç¯åˆ›å»ºçª—å£ï¼Œç›´åˆ°è¾¾åˆ°ç›®æ ‡æ•°é‡</span>
<span class="w">            </span><span class="k">while</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">windows_created</span><span class="w"> </span><span class="o">&lt;</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">window_count</span><span class="p">:</span>
<span class="w">                </span><span class="c1"># ä½¿ç”¨afterç¡®ä¿UIæ“ä½œåœ¨ä¸»çº¿ç¨‹ï¼Œé¿å…çº¿ç¨‹å®‰å…¨é—®é¢˜</span>
<span class="w">                </span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">create_random_window</span><span class="p">)</span>
<span class="w">                </span><span class="c1"># éšæœºé—´éš”ï¼Œå¹³è¡¡å¼¹å‡ºæ•ˆæœä¸æ€§èƒ½</span>
<span class="w">                </span><span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="n">random</span><span class="o">.</span><span class="n">uniform</span><span class="p">(</span><span class="mf">0.03</span><span class="p">,</span><span class="w"> </span><span class="mf">0.08</span><span class="p">))</span>

<span class="w">            </span><span class="c1"># æ‰€æœ‰çª—å£åˆ›å»ºå®Œæˆåï¼Œå¯åŠ¨å®Œæˆæ£€æŸ¥</span>
<span class="w">            </span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">after</span><span class="p">(</span><span class="mi">2000</span><span class="p">,</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">check_completion</span><span class="p">)</span>

<span class="w">        </span><span class="k">return</span><span class="w"> </span><span class="n">create_loop</span>

<span class="w">    </span><span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w">        </span><span class="s2">&quot;&quot;&quot;ä¸»ç¨‹åºï¼ˆä¼˜åŒ–çº¿ç¨‹ç®¡ç†ï¼Œç¡®ä¿èµ„æºæ­£ç¡®é‡Šæ”¾ï¼‰&quot;&quot;&quot;</span>
<span class="w">        </span><span class="c1"># å¯åŠ¨åˆ›å»ºçº¿ç¨‹ï¼Œè®¾ç½®å®ˆæŠ¤çº¿ç¨‹ç¡®ä¿ç¨‹åºé€€å‡ºæ—¶è‡ªåŠ¨å…³é—­</span>
<span class="w">        </span><span class="n">thread</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">threading</span><span class="o">.</span><span class="n">Thread</span><span class="p">(</span><span class="n">target</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">start_random_creation</span><span class="p">(),</span><span class="w"> </span><span class="n">daemon</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="w">        </span><span class="n">thread</span><span class="o">.</span><span class="n">start</span><span class="p">()</span>

<span class="w">        </span><span class="k">try</span><span class="p">:</span>
<span class="w">            </span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
<span class="w">        </span><span class="k">finally</span><span class="p">:</span>
<span class="w">            </span><span class="c1"># å¼ºåˆ¶æ¸…ç†æ‰€æœ‰å‰©ä½™çª—å£ï¼Œé¿å…å†…å­˜æ³„æ¼</span>
<span class="w">            </span><span class="k">for</span><span class="w"> </span><span class="n">window</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="bp">self</span><span class="o">.</span><span class="n">active_windows</span><span class="p">:</span>
<span class="w">                </span><span class="k">try</span><span class="p">:</span>
<span class="w">                    </span><span class="k">if</span><span class="w"> </span><span class="n">window</span><span class="o">.</span><span class="n">winfo_exists</span><span class="p">():</span>
<span class="w">                        </span><span class="n">window</span><span class="o">.</span><span class="n">destroy</span><span class="p">()</span>
<span class="w">                </span><span class="k">except</span><span class="w"> </span><span class="n">Exception</span><span class="p">:</span>
<span class="w">                    </span><span class="k">pass</span>
<span class="w">            </span><span class="bp">self</span><span class="o">.</span><span class="n">root</span><span class="o">.</span><span class="n">quit</span><span class="p">()</span>


<span class="k">def</span><span class="w"> </span><span class="nf">main</span><span class="p">():</span>
<span class="w">    </span><span class="s2">&quot;&quot;&quot;ä¸»å‡½æ•°ï¼ˆç®€åŒ–è°ƒç”¨ï¼Œå‡å°‘ä¸­é—´å˜é‡ï¼‰&quot;&quot;&quot;</span>
<span class="w">    </span><span class="n">TipWindowManager</span><span class="p">()</span><span class="o">.</span><span class="n">main</span><span class="p">()</span>


<span class="k">if</span><span class="w"> </span><span class="vm">__name__</span><span class="w"> </span><span class="o">==</span><span class="w"> </span><span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<span class="w">    </span><span class="n">main</span><span class="p">()</span>
</code></pre></div>

<p align="center"><a href="#">on the top</a></p>
    </div>
</div>
<div id="footer-wrapper">
<ul class="footer">
     <li class="footer"><a href="https://www.nooae.com/tag/pandas.html">pandas&nbsp;&bull;&nbsp;</a></li>
     <li class="footer"><a href="https://www.nooae.com/tag/pyautogui.html">pyautogui&nbsp;&bull;&nbsp;</a></li>
     <li class="footer"><a href="https://www.nooae.com/tag/qrcode.html">qrcode&nbsp;&bull;&nbsp;</a></li>
     <li class="footer"><a href="https://www.nooae.com/tag/selenium.html">selenium&nbsp;&bull;&nbsp;</a></li>
     <li class="footer"><a href="https://www.nooae.com/tag/tkinter.html">tkinter</a></li>
</ul><ul class="footer">
    <li class="footer">&copy;&nbsp;2014&nbsp;::</li>
    <li class="footer"><a href="https://www.nooae.com">Nooae's blog </a>&nbsp;::</li>
    <li class="footer">powered by <a href="https://github.com/getpelican">pelican</a>&nbsp;::</li>
    <li class="footer"><a href="http://creativecommons.org/licenses/by-nc/3.0/deed.ru">CC BY-NC</a></li>
</ul>
</div></body>
</html>